webpackJsonp([4],{"2B5i":function(e,t){},RT7S:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o("3cXf"),s=o.n(i),a=o("dI9p"),n=o("vLgD"),l=o("wSez"),r=o("56fK"),d=(o("KVf0"),o("gyMJ")),c=o("F4fl"),v=o("UWKP"),u=o.n(v),h={components:{"v-header":a.a,"s-identify":r.a},data:function(){return{gradient:"",identifyCodes:"abcdefghijklmnopqrstuvwxyz",identifyCode:"",mobilePhone:"",GraphicCode:"",verifyCode:"",newloginPassword:"",newloginPassword2:"",timeStamp:"2018-01-25 12:32:21",version:d.a.version,Flags:!0,show:!1,values:"60",type:2}},mounted:function(){this.identifyCode="",this.makeCode(this.identifyCodes,4)},methods:{randomNum:function(e,t){return Math.floor(Math.random()*(t-e)+e)},refreshCode:function(){this.identifyCode="",this.makeCode(this.identifyCodes,4)},makeCode:function(e,t){for(var o=0;o<t;o++)this.identifyCode+=this.identifyCodes[this.randomNum(0,this.identifyCodes.length)];console.log(this.identifyCode)},MayaRegister:function(){var e={loginName:this.mobilePhone,newPassword:this.newloginPassword,verifyCode:this.verifyCode},t=Object(c.a)(s()(e)).ciphertext.toString().toUpperCase();console.log(t);var o="data="+t+"&timeStamp="+this.timeStamp+"&version="+this.version,i=o+"b2693d9c2124f3ca9547b897794ac6a1",a=o+"&sign="+u()(i);console.log(a),n.a.post(d.a.forgetpsd,a).then(function(e){console.log(e.data),Object(l.Toast)({showClose:!0,message:"修改密码成功",type:"success"}),window.location.href="login"}).catch(function(e){alert(e)})},changeStyle:function(){this.mobilePhone&&this.GraphicCode&&this.verifyCode&&this.newloginPassword&&this.newloginPassword2?this.gradient="gradient":this.gradient=""},judgeGetCode:function(){""===this.mobilePhone?alert("请填写手机号"):this.getCode()},getCode:function(){var e=this;this.show=!0,this.Flags=!1;setInterval(function(){e.values>0?e.values--:(e.show=!1,e.Flags=!0,e.values=60)},1e3);clearInterval(this.item);var t={mobilePhone:this.mobilePhone,type:this.type};console.log(s()(t));var o=Object(c.a)(s()(t));console.log(o.toString());var i="data="+o.ciphertext.toString().toUpperCase()+"&type="+this.type+"&version="+this.version,a=i+"b2693d9c2124f3ca9547b897794ac6a1",r=i+"&sign="+u()(a);n.a.post(d.a.msg,r).then(function(e){console.log(e.data),Object(l.Toast)({showClose:!0,message:"短信验证码已发送请注意查收",type:"success"})}).catch(function(e){alert(e)})}}},p={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("v-header",[o("h1",{attrs:{slot:"title"},slot:"title"},[e._v("忘记密码")])]),e._v(" "),o("section",{staticClass:"maya-reg-from"},[o("div",{staticClass:"mt-field"},[o("label",[e._v("手机：")]),o("input",{directives:[{name:"model",rawName:"v-model",value:e.mobilePhone,expression:"mobilePhone"}],attrs:{type:"number",placeholder:"",value:""},domProps:{value:e.mobilePhone},on:{keyup:e.changeStyle,input:function(t){t.target.composing||(e.mobilePhone=t.target.value)}}})]),e._v(" "),o("div",{staticClass:"mt-field"},[o("label",[e._v("图片验证码：")]),o("input",{directives:[{name:"model",rawName:"v-model",value:e.GraphicCode,expression:"GraphicCode"}],attrs:{type:"input",placeholder:""},domProps:{value:e.GraphicCode},on:{keyup:e.changeStyle,input:function(t){t.target.composing||(e.GraphicCode=t.target.value)}}}),e._v(" "),o("div",{staticClass:"code",on:{click:e.refreshCode}},[o("s-identify",{attrs:{identifyCode:e.identifyCode}})],1)]),e._v(" "),o("div",{staticClass:"mt-field"},[o("label",[e._v("手机验证码：")]),o("input",{directives:[{name:"model",rawName:"v-model",value:e.verifyCode,expression:"verifyCode"}],attrs:{type:"input",placeholder:"",id:"verifyCode"},domProps:{value:e.verifyCode},on:{input:function(t){t.target.composing||(e.verifyCode=t.target.value)}}}),e._v(" "),o("input",{directives:[{name:"show",rawName:"v-show",value:e.Flags,expression:"Flags"}],staticClass:"btnSendCode",attrs:{type:"button",value:"获取验证码"},on:{click:e.judgeGetCode}}),e._v(" "),o("input",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"btnSendCode",attrs:{type:"button",value:e.values+"s"}})]),e._v(" "),o("div",{staticClass:"mt-field mt-field2"},[o("label",[e._v("设置新密码")]),o("input",{directives:[{name:"model",rawName:"v-model",value:e.newloginPassword,expression:"newloginPassword"}],attrs:{type:"password",placeholder:"请输入6-18位字母＋数字组合",value:""},domProps:{value:e.newloginPassword},on:{keyup:e.changeStyle,input:function(t){t.target.composing||(e.newloginPassword=t.target.value)}}})]),e._v(" "),o("div",{staticClass:"mt-field mt-field2"},[o("label",[e._v("确认新密码")]),o("input",{directives:[{name:"model",rawName:"v-model",value:e.newloginPassword2,expression:"newloginPassword2"}],attrs:{type:"password",placeholder:"请再一次输入新密码",value:""},domProps:{value:e.newloginPassword2},on:{keyup:e.changeStyle,input:function(t){t.target.composing||(e.newloginPassword2=t.target.value)}}})])]),e._v(" "),o("mt-button",{staticClass:"maya-btn",class:e.gradient,attrs:{type:"primary"},on:{click:e.MayaRegister}},[e._v("提交")])],1)},staticRenderFns:[]};var m=o("Z0/y")(h,p,!1,function(e){o("2B5i")},null,null);t.default=m.exports}});
//# sourceMappingURL=4.97cbb91e903e16efbc76.js.map